(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"/EDR":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("23aj")}])},"1GBj":function(t,e,n){var r=n("vlbB");t.exports=function(t,e){var n=-1,o=t.length,a=o-1;for(e=void 0===e?o:e;++n<e;){var c=r(n,a),i=t[c];t[c]=t[n],t[n]=i}return t.length=e,t}},"23aj":function(t,e,n){"use strict";n.r(e);var r,o,a=n("o0o1"),c=n.n(a),i=n("HaE+"),s=n("QpBz"),u=n.n(s),l=n("wx14"),f=n("rePB"),p=n("KQm4"),h=n("9WAK"),d=n.n(h),v=n("q1tI"),m=n.n(v),g=n("wHSu"),b=n("IP2g"),j=n("Ff2n"),y=n("JZM8"),w=n.n(y),O=n("vW1X"),x=n("YFqc"),k=n.n(x),N=n("MX0m"),P=n.n(N),_=n("/Zut"),E=n.n(_),C=n("71vV"),S=n.n(C),J=m.a.createElement,F=Object(v.forwardRef)((function(t,e){var n=t.title,r=t.icon,o=t.moreUrl,a=t.color,c=void 0===a?E()({luminosity:"dark"}):a,i=t.showMoreIcon,s=void 0===i||i,u=Object(j.a)(t,["title","icon","moreUrl","color","showMoreIcon"]);return J(m.a.Fragment,null,J(P.a,{id:"3581113322"},["h3.jsx-3581113322{-webkit-transition:all 0.5s;transition:all 0.5s;}"]),J("div",{ref:e,className:"jsx-3581113322 news-item"},J("div",{className:"jsx-3581113322 news-head"},J("h3",{style:{backgroundColor:c},className:"jsx-3581113322 title"},J(b.a,{icon:r,className:S.a.icon}),n),s&&o&&J("h3",{style:{backgroundColor:c},className:"jsx-3581113322 more"},J(k.a,{href:o},J("a",{className:"jsx-3581113322"},J(b.a,{icon:g.f}))))),J("div",{className:"jsx-3581113322 news-body"},J("div",Object(l.a)({},u,{className:"jsx-3581113322 "+(u&&null!=u.className&&u.className||"row s")}),t.children))))})),R=m.a.createElement,U=Object(v.forwardRef)((function(t,e){var n=t.content,r=t.size,o=void 0===r?6:r,a=Object(j.a)(t,["content","size"]);return R(F,Object(l.a)({},a,{ref:e}),n.map((function(t,e){return R("div",{className:"col-".concat(o," col-m-3"),key:e},R(k.a,w()(t,["href","as"]),R("a",{className:"news-article"},R(O.a,{src:t.background,alt:t.title}),R("h4",null,t.title))))})))})),M=function(t){var e=t.title,n=t.desc,r=t.src,o=t.onClick,a=t.href;return R("div",{className:"col-6 col-m-3",style:{marginTop:"2rem"}},R("a",{href:a,className:"news-article",onClick:o},R("div",{className:S.a.mask}),R("h2",{className:S.a.bt},e),R(O.a,{src:r,alt:e}),R("h4",null,R("span",{style:{marginLeft:"1rem"}},n))))},T=U,z=n("Puqe"),D=n.n(z),I=n("TyAF");r||(r={}),function(t){var e;!function(t){t[t.Local=0]="Local",t[t.Online=1]="Online"}(e||(e={})),t.Locate=e}(o||(o={}));var Z=n("0Xwh"),B=n("2x5v"),Y=n("WYo3"),q=n("AoAR"),H=n("H9lr"),L=n.n(H),W=n("4cnF"),X=n("4DfP"),A=m.a.createElement,G=function(t){return A("a",{className:S.a["avatar-item"],href:t.url,target:"_blank"},A(X.a,{imageUrl:t.avatar||L.a,alt:t.name,url:t.url}),A("span",{className:S.a["avatar-name"]},t.name))},K=function(){var t=Object(v.useState)([]),e=t[0],n=t[1];return Object(v.useEffect)((function(){Object(q.a)("Link").gets({page:1,size:20}).then((function(t){var e=t.data;n(e.filter((function(t){return t.type===W.a.Friend})))}))}),[]),A("div",{className:S.a.friends},e.map((function(t){return A(G,Object(l.a)({},t,{key:t._id}))})))},Q=n("F/y2"),V=n("nOHt"),$=n.n(V),tt=function(t){t.preventDefault(),t.stopPropagation()},et=n("gqkn"),nt=m.a.createElement;function rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var at,ct=function(t){var e=Object(Y.d)(),n=e.userStore,r=e.appStore,o=e.socialStore,a=n.name,c=n.introduce,i=n.master.avatar,s=r.description,f=o.socialLinks,h=t.posts,d=t.notes,m=(t.says,t.projects,t.randomImages),j=Object(p.a)(m),y=Object(v.useState)({postSection:{title:"\u6700\u65b0\u535a\u6587",icon:g.c,moreUrl:"posts",content:h.slice(0,4).map((function(t){return ot({title:t.title,background:j.pop(),_id:t._id},it("Post",t))}))},noteSection:{title:"\u968f\u4fbf\u5199\u5199",icon:g.u,moreUrl:"notes",content:d.slice(0,4).map((function(t){return ot({title:t.title,background:j.pop(),_id:t._id},it("Note",t))}))}}),w=y[0],O=(y[1],Object(v.useState)(0)),x=O[0],k=O[1];return Object(v.useEffect)((function(){et.a.get("like_this").then((function(t){k(~~t)}))}),[]),nt("main",null,nt("section",{className:"paul-intro"},nt("div",{className:"intro-avatar "},nt("img",{src:Q.a.avatar||i,alt:a,style:{width:"100%"}})),nt("div",{className:"intro-info"},nt("h1",null,nt(B.a,{type:"mask-bottom",mode:"smooth"},a)),nt("p",null,nt(B.a,{type:"mask-bottom",mode:"smooth",delay:500},c||s)),nt(Z.a,{delay:500,duration:500,animConfig:{opacity:[1,0],translateY:[0,50]}},nt("div",{className:"social-icons",key:"a"},f.map((function(t){return nt("a",{href:t.url,target:"_blank","ks-text":t.title,"ks-tag":"bottom",key:t.title,style:t.color?{color:t.color}:{}},nt(b.a,{icon:t.icon}))})))))),nt("section",{className:"paul-news",style:{minHeight:"34rem"}},nt(Z.a,{className:"demo-content",delay:1200,duration:500,animConfig:[{opacity:[1,0],translateY:[0,50]},{opacity:[1,0],translateY:[0,-50]}]},[nt(T,Object(l.a)({},w.postSection,{key:1})),nt(T,Object(l.a)({},w.noteSection,{key:2})),nt(F,Object(l.a)({title:"\u670b\u53cb\u4eec",moreUrl:"friends",icon:g.C},{key:3}),nt(K,null)),nt(F,Object(l.a)({title:"\u4e86\u89e3\u66f4\u591a",icon:g.n,showMoreIcon:!1},{key:4}),nt(M,{title:"\u7559\u8a00",desc:"\u4f60\u7684\u8bdd\u5bf9\u6211\u5f88\u91cd\u8981",src:j.pop(),href:"/message",onClick:function(t){tt(t),$.a.push("/[page]","/message")}}),nt(M,{title:"\u5173\u4e8e",desc:"\u8fd9\u91cc\u6709\u6211\u7684\u5c0f\u79d8\u5bc6",src:j.pop(),href:"/about",onClick:function(t){tt(t),$.a.push("/[page]","/about")}}),nt(M,{title:"\u70b9\u8d5e (".concat(x,")"),desc:"\u5982\u679c\u4f60\u559c\u6b22\u7684\u8bdd\u70b9\u4e2a\u8d5e\u5457",src:j.pop(),href:"/like_this",onClick:function(t){tt(t),et.a.post("like_this",null,{withCredentials:!0}).then((function(){u.a.success("\u611f\u8c22\u559c\u6b22 \u2764\ufe0f"),k(x+1)}))}}),nt(M,{title:"\u8ba2\u9605",desc:"\u5173\u6ce8\u8ba2\u9605\u4e0d\u4e8f\u54e6",src:j.pop(),href:"/feed"}))])))};function it(t,e){switch(t){case"Post":var n=e,r=n.slug,o=n.category;return{as:"posts/".concat(o.slug,"/").concat(r),href:"posts/[category]/[slug]"};case"Note":var a=e.nid;return{as:"notes/".concat(a),href:"notes/[id]"};case"Say":return{as:"says",href:"says"};case"Project":var c=e._id;return{as:"projects/".concat(c),href:"projects/[id]"}}}!function(t){t[t.Note=0]="Note",t[t.Post=1]="Post",t[t.Say=2]="Say",t[t.Project=3]="Project"}(at||(at={})),ct.getInitialProps=Object(i.a)(c.a.mark((function t(){var e,n,r,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(q.a)("Aggregate").get("top");case 2:return e=t.sent,t.next=5,Object(q.a)("Aggregate").get("random?type=3&imageType=2&size=8");case 5:return n=t.sent,r=["qsNmnC2zHB5FW41.jpg","GwJzq4SYtClRcZh.jpg","6nOYcygRGXvpsFd.jpg","Qr2ykmsEFpJn4BC.jpg","KiOuTlCzge7JHh3.jpg","sM2XCJTW8BdUe5i.jpg","18KQYP9fNGbrzJu.jpg","rdjZo6Sg2JReyiA.jpg","X2MVRDe1tyJil3O.jpg","EDoKvz5p7BXZ46U.jpg","EGk4qUvcXDygV2z.jpg","5QdwFC82gT3XPSZ.jpg","KPyTCARHBzpxJ46.jpg","7TOEIPwGrZB1qFb.jpg","Ihj5QAZgVMqr9fJ.jpg","KZ6jv8C92Vpwcih.jpg"].map((function(t){return"https://i.loli.net/2020/05/22/"+t})),a=n.data.map((function(t){return t.locate!==o.Locate.Online?"".concat("https://innei.cstack.top/api/v1","/uploads/background/").concat(t.name):t.url})),t.abrupt("return",ot(ot({},D()(e,["ok","timestamp"])),{},{randomImages:d()([].concat(Object(p.a)(a),Object(p.a)(r)))}));case 9:case"end":return t.stop()}}),t)})));e.default=Object(I.c)(ct)},"4DfP":function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n("wx14"),o=n("Ff2n"),a=n("MX0m"),c=n.n(a),i=n("q1tI"),s=n.n(i),u=n("H9lr"),l=n.n(u),f=n("HMs9"),p=n.n(f),h=s.a.createElement,d=function(t){t.url,t.imageUrl,t.size;var e,n=Object(o.a)(t,["url","imageUrl","size"]),a=Object(i.useRef)(null);return h("div",{style:t.size?{height:t.size+"px",width:t.size+"px"}:void 0,className:"jsx-2635109571 avatar"},h(c.a,{id:"2635109571"},[".avatar.jsx-2635109571{width:80px;height:80px;box-sizing:border-box;border:3px #bbb solid;border-radius:50%;overflow:hidden;box-shadow:1px 2px 9px 0px rgba(0,0,0,0.32);}","img.jsx-2635109571{width:100%;height:auto;}"]),h("a",{href:null!==(e=t.url)&&void 0!==e?e:"javascript:;",target:t.url?"_blank":void 0,className:"jsx-2635109571"},h(p.a,{once:!0,placeholder:h("div",{className:"jsx-2635109571 placeholder-image"})},h("img",Object(r.a)({src:t.imageUrl,ref:a},n,{onError:function(t){a.current&&(a.current.src=l.a)},className:"jsx-2635109571 "+(n&&null!=n.className&&n.className||"")})))))}},"4cnF":function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t[t.Friend=0]="Friend",t[t.Collection=1]="Collection"}(r||(r={}))},"4sDh":function(t,e,n){var r=n("4uTw"),o=n("03A+"),a=n("Z0cm"),c=n("wJg7"),i=n("shjB"),s=n("9Nap");t.exports=function(t,e,n){for(var u=-1,l=(e=r(e,t)).length,f=!1;++u<l;){var p=s(e[u]);if(!(f=null!=t&&n(t,p)))break;t=t[p]}return f||++u!=l?f:!!(l=null==t?0:t.length)&&i(l)&&c(p,l)&&(a(t)||o(t))}},"71vV":function(t,e,n){t.exports={icon:"SectionNews_icon__w_rh8","avatar-item":"SectionNews_avatar-item__2j9Yd","avatar-name":"SectionNews_avatar-name__3syRf",friends:"SectionNews_friends__tOLjp",bt:"SectionNews_bt__3-tme",mask:"SectionNews_mask__3b6xy"}},"7W2i":function(t,e,n){var r=n("SksO");t.exports=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},"9WAK":function(t,e,n){var r=n("Il6v"),o=n("OVaF"),a=n("Z0cm");t.exports=function(t){return(a(t)?r:o)(t)}},FZoo:function(t,e,n){var r=n("MrPd"),o=n("4uTw"),a=n("wJg7"),c=n("GoyQ"),i=n("9Nap");t.exports=function(t,e,n,s){if(!c(t))return t;for(var u=-1,l=(e=o(e,t)).length,f=l-1,p=t;null!=p&&++u<l;){var h=i(e[u]),d=n;if(u!=f){var v=p[h];void 0===(d=s?s(v,h,p):void 0)&&(d=c(v)?v:a(e[u+1])?[]:{})}r(p,h,d),p=p[h]}return t}},FfPP:function(t,e,n){var r=n("idmN"),o=n("hgQt");t.exports=function(t,e){return r(t,e,(function(e,n){return o(t,n)}))}},H9lr:function(t,e){t.exports="https://cdn.jsdelivr.net/gh/Innei/web-cdn@master/_next/static/images/default-avatar-bfdcee0350636b07357f99702aced551.png"},Il6v:function(t,e,n){var r=n("Q1l4"),o=n("1GBj");t.exports=function(t){return o(r(t))}},JZM8:function(t,e,n){var r=n("FfPP"),o=n("xs/l")((function(t,e){return null==t?{}:r(t,e)}));t.exports=o},JmpY:function(t,e,n){var r=n("eUgh");t.exports=function(t,e){return r(e,(function(e){return t[e]}))}},Juji:function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},Nsbk:function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},OVaF:function(t,e,n){var r=n("1GBj"),o=n("P/G1");t.exports=function(t){return r(o(t))}},"P/G1":function(t,e,n){var r=n("JmpY"),o=n("7GkX");t.exports=function(t){return null==t?[]:r(t,o(t))}},PJYZ:function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},YFqc:function(t,e,n){t.exports=n("cTJO")},a1gu:function(t,e,n){var r=n("cDf5"),o=n("PJYZ");t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?o(t):e}},cTJO:function(t,e,n){"use strict";var r=n("lwsE"),o=n("W8MJ"),a=n("7W2i"),c=n("a1gu"),i=n("Nsbk");function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=i(t);if(e){var o=i(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}var u=n("TqRt"),l=n("284h");e.__esModule=!0,e.default=void 0;var f,p=l(n("q1tI")),h=n("QmWs"),d=n("g/15"),v=u(n("nOHt")),m=n("elyg");function g(t){return t&&"object"===typeof t?(0,d.formatWithValidation)(t):t}var b=new Map,j=window.IntersectionObserver,y={};function w(){return f||(j?f=new j((function(t){t.forEach((function(t){if(b.has(t.target)){var e=b.get(t.target);(t.isIntersecting||t.intersectionRatio>0)&&(f.unobserve(t.target),b.delete(t.target),e())}}))}),{rootMargin:"200px"}):void 0)}var O=function(t){a(n,t);var e=s(n);function n(t){var o;return r(this,n),(o=e.call(this,t)).p=void 0,o.cleanUpListeners=function(){},o.formatUrls=function(t){var e=null,n=null,r=null;return function(o,a){if(r&&o===e&&a===n)return r;var c=t(o,a);return e=o,n=a,r=c,c}}((function(t,e){return{href:(0,m.addBasePath)(g(t)),as:e?(0,m.addBasePath)(g(e)):e}})),o.linkClicked=function(t){var e=t.currentTarget,n=e.nodeName,r=e.target;if("A"!==n||!(r&&"_self"!==r||t.metaKey||t.ctrlKey||t.shiftKey||t.nativeEvent&&2===t.nativeEvent.which)){var a=o.formatUrls(o.props.href,o.props.as),c=a.href,i=a.as;if(function(t){var e=(0,h.parse)(t,!1,!0),n=(0,h.parse)((0,d.getLocationOrigin)(),!1,!0);return!e.host||e.protocol===n.protocol&&e.host===n.host}(c)){var s=window.location.pathname;c=(0,h.resolve)(s,c),i=i?(0,h.resolve)(s,i):c,t.preventDefault();var u=o.props.scroll;null==u&&(u=i.indexOf("#")<0),v.default[o.props.replace?"replace":"push"](c,i,{shallow:o.props.shallow}).then((function(t){t&&u&&(window.scrollTo(0,0),document.body.focus())}))}}},o.p=!1!==t.prefetch,o}return o(n,[{key:"componentWillUnmount",value:function(){this.cleanUpListeners()}},{key:"getPaths",value:function(){var t=window.location.pathname,e=this.formatUrls(this.props.href,this.props.as),n=e.href,r=e.as,o=(0,h.resolve)(t,n);return[o,r?(0,h.resolve)(t,r):o]}},{key:"handleRef",value:function(t){var e=this;this.p&&j&&t&&t.tagName&&(this.cleanUpListeners(),y[this.getPaths().join("%")]||(this.cleanUpListeners=function(t,e){var n=w();return n?(n.observe(t),b.set(t,e),function(){try{n.unobserve(t)}catch(e){console.error(e)}b.delete(t)}):function(){}}(t,(function(){e.prefetch()}))))}},{key:"prefetch",value:function(t){if(this.p){var e=this.getPaths();v.default.prefetch(e[0],e[1],t).catch((function(t){0})),y[e.join("%")]=!0}}},{key:"render",value:function(){var t=this,e=this.props.children,n=this.formatUrls(this.props.href,this.props.as),r=n.href,o=n.as;"string"===typeof e&&(e=p.default.createElement("a",null,e));var a=p.Children.only(e),c={ref:function(e){t.handleRef(e),a&&"object"===typeof a&&a.ref&&("function"===typeof a.ref?a.ref(e):"object"===typeof a.ref&&(a.ref.current=e))},onMouseEnter:function(e){a.props&&"function"===typeof a.props.onMouseEnter&&a.props.onMouseEnter(e),t.prefetch({priority:!0})},onClick:function(e){a.props&&"function"===typeof a.props.onClick&&a.props.onClick(e),e.defaultPrevented||t.linkClicked(e)}};return!this.props.passHref&&("a"!==a.type||"href"in a.props)||(c.href=o||r),p.default.cloneElement(a,c)}}]),n}(p.Component);e.default=O},hgQt:function(t,e,n){var r=n("Juji"),o=n("4sDh");t.exports=function(t,e){return null!=t&&o(t,e,r)}},idmN:function(t,e,n){var r=n("ZWtO"),o=n("FZoo"),a=n("4uTw");t.exports=function(t,e,n){for(var c=-1,i=e.length,s={};++c<i;){var u=e[c],l=r(t,u);n(l,u)&&o(s,a(u,t),l)}return s}},vlbB:function(t,e){var n=Math.floor,r=Math.random;t.exports=function(t,e){return t+n(r()*(e-t+1))}}},[["/EDR",0,2,6,5,10,1,3,7,4,8,9,11,13,14,16,15,17,18]]]);