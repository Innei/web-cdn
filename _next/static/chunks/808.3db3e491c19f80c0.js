(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[808],{31618:function(g,c,a){"use strict";a.d(c,{A:function(){return h}});var d=a(50225),e=a(52297),b="right-left-spring";(0,d.UU)(b,{translateX:"3em",opacity:0},{translateX:"0em",opacity:1});var f={entering:{opacity:0},entered:{animation:"".concat(b," 1000ms linear both")},exiting:{animation:"".concat(b," 1000ms linear both reverse")},exited:{opacity:0}},h=(0,e.I)({opacity:0},f)},90808:function(e,b,a){"use strict";a.r(b),a.d(b,{Toc:function(){return p}});var f=a(11527),g=a(45924),h=a(20057),c=a(50959),i=a(41489),j=a(45631),k=a(87793),l=a(31618),d=a(90534),m=a.n(d),n=a(50225),o=(0,c.memo)(function(a){var i=a.index,e=a.active,b=a.depth,d=a.title,h=a.rootDepth,k=a.onClick;(0,c.useEffect)(function(){if(e){var a=history.state;history.replaceState(a,"","#".concat(d))}},[e,d]);var j=(0,c.useMemo)(function(){var a=b-h;return 0==a?1:a},[b,h]);return(0,f.jsx)("a",{"data-index":i,href:"#".concat(d),className:(0,g.W)(m()["toc-link"],e&&m().active),style:{paddingLeft:b>=h?"".concat(1.2*j,"rem"):void 0},"data-depth":b,onClick:function(b){b.preventDefault(),k(i);var a=document.getElementById(d);a&&(0,n.HE)(a,void 0,-100)},children:(0,f.jsx)("span",{className:m()["a-pointer"],children:d})})}),p=(0,c.memo)(function(a){var e=a.headings,n=a.useAsWeight,p=(0,c.useRef)(null),b=(0,c.useMemo)(function(){return Array.from(e).map(function(a){var c=+a.tagName.slice(1),d=a.id,b=Number(a.dataset.index);return{depth:c,index:isNaN(b)?-1:b,title:d}})},[e]),d=(0,c.useState)(-1),r=d[0],s=d[1];(0,c.useEffect)(function(){var a=function(a){s(a)};return k.Y.on(j.R.TOC,a),function(){k.Y.off(j.R.TOC,a)}},[]);var q=(0,h.Z)(function(){p.current&&(p.current.style.maxWidth="".concat(document.documentElement.getBoundingClientRect().width-p.current.getBoundingClientRect().x-30,"px"))},14);(0,c.useEffect)(function(){return window.addEventListener("resize",q),function(){window.removeEventListener("resize",q)}},[q]);var t=(0,c.useCallback)(function(a){setTimeout(function(){s(a)},350)},[]);return(0,f.jsx)("section",{className:(0,g.Z)("kami-toc z-3",m().toc,n&&m().weight),children:(0,f.jsx)("div",{className:(0,g.Z)("container",m().container),ref:p,children:(0,f.jsx)(i.Z,{className:m()["anime-wrapper"],children:b&&b.map(function(a,c){return(0,f.jsx)(l.A,{timeout:{enter:100*c},children:(0,f.jsx)(o,{index:a.index,onClick:t,active:a.index===r,depth:a.depth,title:a.title,rootDepth:b.reduce(function(a,b){return Math.min(a,b.depth)},b[0].depth)},a.title)})})})})})})},90534:function(a){a.exports={"a-pointer":"Toc_a-pointer___zSta",toc:"Toc_toc___lh2E","toc-link":"Toc_toc-link__nXsIL",weight:"Toc_weight__k4AA5",container:"Toc_container__9yEXe","anime-wrapper":"Toc_anime-wrapper__9Whnb",active:"Toc_active__DN1LM"}},41489:function(e,c,a){"use strict";a.d(c,{Z:function(){return m}});var f=a(20042);function g(){return(g=Object.assign||function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d}).apply(this,arguments)}var h=a(9576),d=a(50959),i=a(61118);function j(a,c){var b=Object.create(null);return a&&d.Children.map(a,function(a){return a}).forEach(function(e){var a;b[e.key]=(a=e,c&&(0,d.isValidElement)(a)?c(a):a)}),b}function k(c,a,b){return null!=b[a]?b[a]:c.props[a]}var l=Object.values||function(a){return Object.keys(a).map(function(b){return a[b]})},b=function(c){function a(b,d){var a,e=(a=c.call(this,b,d)||this).handleExited.bind(function(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(a));return a.state={contextValue:{isMounting:!0},handleExited:e,firstRender:!0},a}(0,h.Z)(a,c);var b=a.prototype;return b.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},b.componentWillUnmount=function(){this.mounted=!1},a.getDerivedStateFromProps=function(c,a){var e,i,f,g,l,m,b,n=a.children,h=a.handleExited,o=a.firstRender;return{children:o?(e=c,i=h,j(e.children,function(a){return(0,d.cloneElement)(a,{onExited:i.bind(null,a),in:!0,appear:k(a,"appear",e),enter:k(a,"enter",e),exit:k(a,"exit",e)})})):(f=c,g=n,l=h,b=function(g,e){function h(a){return a in e?e[a]:g[a]}g=g||{},e=e||{};var a,d=Object.create(null),b=[];for(var i in g)i in e?b.length&&(d[i]=b,b=[]):b.push(i);var f={};for(var c in e){if(d[c])for(a=0;a<d[c].length;a++){var j=d[c][a];f[d[c][a]]=h(j)}f[c]=h(c)}for(a=0;a<b.length;a++)f[b[a]]=h(b[a]);return f}(g,m=j(f.children)),Object.keys(b).forEach(function(c){var a=b[c];if((0,d.isValidElement)(a)){var h=c in g,i=c in m,e=g[c],j=(0,d.isValidElement)(e)&&!e.props.in;i&&(!h||j)?b[c]=(0,d.cloneElement)(a,{onExited:l.bind(null,a),in:!0,exit:k(a,"exit",f),enter:k(a,"enter",f)}):i||!h||j?i&&h&&(0,d.isValidElement)(e)&&(b[c]=(0,d.cloneElement)(a,{onExited:l.bind(null,a),in:e.props.in,exit:k(a,"exit",f),enter:k(a,"enter",f)})):b[c]=(0,d.cloneElement)(a,{in:!1})}}),b),firstRender:!1}},b.handleExited=function(a,b){var c=j(this.props.children);a.key in c||(a.props.onExited&&a.props.onExited(b),this.mounted&&this.setState(function(c){var b=g({},c.children);return delete b[a.key],{children:b}}))},b.render=function(){var b=this.props,c=b.component,h=b.childFactory,a=(0,f.Z)(b,["component","childFactory"]),e=this.state.contextValue,g=l(this.state.children).map(h);return(delete a.appear,delete a.enter,delete a.exit,null===c)?d.createElement(i.Z.Provider,{value:e},g):d.createElement(i.Z.Provider,{value:e},d.createElement(c,a,g))},a}(d.Component);b.propTypes={},b.defaultProps={component:"div",childFactory:function(a){return a}};var m=b}}])