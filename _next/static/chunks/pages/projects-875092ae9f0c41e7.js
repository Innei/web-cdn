(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[327],{18317:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects",function(){return c(98213)}])},20689:function(d,b,a){"use strict";a.d(b,{R:function(){return i}});var e=a(11527),f=a(45924),c=a(50959),g=a(75701),h=a(46204),i=(0,c.memo)(function(a){var b;return(0,e.jsx)("div",{className:(0,f.W)("project-icon flex-shrink-0 flex-grow flex items-center justify-center bg-light-bg",a.avatar?"":"bg-gray text-white"),children:a.avatar?(0,e.jsx)(h.X,{src:a.avatar,alt:a.name}):(0,e.jsx)(g.I,{text:(null===(b=a.name)|| void 0===b?void 0:b.charAt(0).toUpperCase())||"",size:.5})})})},75701:function(d,b,a){"use strict";a.d(b,{I:function(){return f}});var e=a(11527),c=a(50959),f=(0,c.memo)(function(a){var d=(0,c.useRef)(null),b=(0,c.useState)(!1),f=b[0],g=b[1];return(0,c.useEffect)(function(){if(d.current){var c,e=d.current,b=e.parentElement;return b&&(c=new ResizeObserver(function(){var c=b.getBoundingClientRect().width;e.style.fontSize="".concat(c/a.text.length*a.size,"px"),g(!0)})).observe(b),function(){c&&c.disconnect()}}},[a.size]),(0,e.jsx)("span",{ref:d,className:f?"":"invisible",children:a.text})})},46204:function(e,c,a){"use strict";a.d(c,{X:function(){return s}});var f=a(11527),g=a(45924),h=a(76098),b=a(50959),i=a(91384),j=a(81425),k={height:0,width:0},l=function(){var a=(0,b.useReducer)(function(b,a){switch(a.type){case"set":return{height:a.height,width:a.width};case"reset":return k;default:return b}},k),c=a[0],e=a[1],f=(0,b.useRef)(),d=(0,b.useCallback)(function(a,b){a&&b&&(f.current=setInterval(function(){var c=b.naturalWidth,d=b.naturalHeight;if(c&&d){clearInterval(f.current);var h=getComputedStyle(a).width,g=(0,j.jg)(c,d,{height:1/0,width:parseInt(h)});e({type:"set",height:g.height,width:g.width})}},30))},[]);return(0,b.useEffect)(function(){return function(){clearInterval(f.current)}},[]),[c,d]},m=a(68297),d=a(90148),n=a.n(d);function o(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function p(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function q(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){p(d,a,c[a])})}return d}var r=(0,b.memo)(function(a){var e=a.src,i=a.alt,c=a.popup,j=void 0!==c&&c,d=a.loaded,k=a.loaderFn,l=(0,b.useRef)(null);return(0,b.useEffect)(function(){if(j){var a=l.current;a&&(0,h.Z)(a,{background:"var(--light-bg)",margin:50})}},[j]),(0,b.useEffect)(function(){k()},[k]),(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:(0,g.W)(n()["lazyload-image"],!d&&n()["image-hide"]),"data-status":d?"loaded":"loading",children:(0,f.jsx)("img",{src:e,alt:i,ref:l,loading:"lazy"})})})}),s=(0,b.memo)((0,b.forwardRef)(function(a,C){var u=a.defaultImage,k=a.src,v=a.alt,c=void 0===v?k:v,d=a.height,e=a.width,w=a.backgroundColor,x=a.popup,D=a.style,y=a.overflowHidden,z=function(a,d){if(null==a)return{};var b,c,e=function(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}(a,d);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(c=0;c<f.length;c++)b=f[c],!(d.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(a,b)&&(e[b]=a[b])}return e}(a,["defaultImage","src","alt","height","width","backgroundColor","popup","style","overflowHidden"]);(0,b.useImperativeHandle)(C,function(){return{status:j?"loaded":"loading"}});var h,p,E=(0,b.useRef)(null),I=(0,b.useRef)(null),F=(0,b.useRef)(null),A=(h=l(),p=2,function(a){if(Array.isArray(a))return a}(h)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(h,p)||function(a,c){if(a){if("string"==typeof a)return o(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return o(a,c)}}(h,p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=A[0],G=A[1],B=(0,b.useState)(!1),j=B[0],J=B[1],H=(0,b.useCallback)(function(){if(k){var b,c,f,g,a=new window.Image;a.src=k,!d&&!e&&(null===(b=F.current)|| void 0===b?void 0:null===(c=b.parentElement)|| void 0===c?void 0:c.parentElement)&&G(null===(f=F.current)|| void 0===f?void 0:null===(g=f.parentElement)|| void 0===g?void 0:g.parentElement,a),a.onload=function(){J(!0);try{I&&I.current&&I.current.classList.add("hide")}catch(a){}},a.onerror=function(){try{I&&I.current&&(I.current.innerHTML='<p style="color: currentColor; filter: invert(100%) brightness(1.5)"><span>\u56FE\u7247\u52A0\u8F7D\u5931\u8D25!</span><br/>\n          <a href="'.concat((0,i.nd)(a.src),'" target="_blank">').concat((0,i.nd)(a.src),"</a></p>"),I.current.style.zIndex="2")}catch(b){}}}},[G,d,k,e]);return(0,f.jsxs)("figure",{style:D,className:"inline-block",children:[u?(0,f.jsx)("img",q({src:u,alt:c},z,{ref:E})):(0,f.jsx)("div",{className:(0,g.W)("transition-none relative max-w-full m-auto inline-block min-h-[1px]",z.className),style:q({height:j?void 0:d||s.height,width:j?void 0:e||s.width},void 0!==y&&y?{overflow:"hidden",borderRadius:"3px"}:{}),ref:F,"data-info":JSON.stringify({height:d,width:e,calculatedSize:s}),children:(0,f.jsxs)(m.Z,{offset:300,placeholder:(0,f.jsx)(t,{height:d,width:e,backgroundColor:w}),children:[(0,f.jsx)(r,{src:k,alt:c.replace(/^[!ยก]/,"")||"",popup:void 0!==x&&x,loaded:j,loaderFn:H}),!j&&(0,f.jsx)(t,{height:d,width:e,backgroundColor:w})]})}),c&&(c.startsWith("!")||c.startsWith("\xa1"))&&(0,f.jsx)("figcaption",{className:n()["img-alt"],children:c.slice(1)})]})})),t=(0,b.memo)((0,b.forwardRef)(function(a,b){var c=a.backgroundColor,d=a.height,e=a.width;return(0,f.jsx)("div",{className:(0,g.W)(n()["placeholder-image"],a.className),ref:b,style:{height:d,width:e,color:c}})}))},68297:function(c,b,a){"use strict";a.d(b,{Z:function(){return g}});var d=a(11527);a(50959);var e=a(11530);function f(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var g=function(a){var b=a.placeholder,c=a.offset,h=function(a,d){if(null==a)return{};var b,c,e=function(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}(a,d);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(c=0;c<f.length;c++)b=f[c],!(d.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(a,b)&&(e[b]=a[b])}return e}(a,["placeholder","offset"]),g=(0,e.YD)(function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){f(d,a,c[a])})}return d}({triggerOnce:!0,rootMargin:"".concat((void 0===c?0:c)||0,"px")},h)),i=g.ref,j=g.inView;return(0,d.jsx)("div",{ref:i,children:j?a.children:void 0===b?null:b})}},85574:function(e,b,a){"use strict";a.d(b,{g:function(){return i}});var f=a(11527),c=a(50959),g=a(11530),d=a(63641),h=a.n(d),i=(0,c.memo)(function(b){var d=b.loadingText,a=(0,c.useState)(!0),e=a[0],j=a[1],i=(0,g.YD)({threshold:.5,onChange:function(a){a?j(!1):j(!0)}}).ref;return(0,f.jsxs)("div",{className:h().loading,ref:i,children:[(0,f.jsx)("div",{className:"icon",children:(0,f.jsx)("svg",{className:"m-auto bg-transparent block",width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",children:(0,f.jsx)("circle",{cx:"50",cy:"51.3828",r:"13",fill:"#e15b64",children:!e&&(0,f.jsx)("animate",{attributeName:"cy",dur:"1s",repeatCount:"indefinite",calcMode:"spline",keySplines:"0.45 0 0.9 0.55;0 0.45 0.55 0.9",keyTimes:"0;0.5;1",values:"23;77;23"})})})},"icon"),(0,f.jsx)("span",{children:d})]})})},98213:function(e,b,a){"use strict";a.r(b),a.d(b,{"default":function(){return t}});var f=a(11527),g=a(50959),c=a(17621),h=a.n(c),d=a(92087),i=a.n(d),j=a(20689),k=function(a){var b=a.projects;return(0,f.jsx)("section",{className:i().root,children:(0,f.jsx)("div",{className:"grid grid-cols-3 <sm:grid-cols-1 <md:grid-cols-2 gap-12 xl:grid-cols-4",children:b.map(function(a){return(0,f.jsx)(h(),{href:"projects/[id]",as:"projects/".concat(a.id),children:(0,f.jsxs)("a",{className:"grid grid-cols-[1fr_2fr] gap-4",children:[(0,f.jsx)(j.R,{avatar:a.avatar,name:a.name}),(0,f.jsxs)("span",{className:"flex flex-shrink-0 flex-grow flex-col text-left gap-2",children:[(0,f.jsx)("h4",{className:"font-2xl font-medium m-0 p-0",children:a.name}),(0,f.jsx)("span",{className:"line-clamp-2 text-sm <sm:line-clamp-5 <md:line-clamp-4",children:a.description})]})]})},a.id)})})},"list")},l=a(18833),m=a(85574),n=a(4067),o=a(9594),p=a(18921),q=a(41548),r=a(54486),s=a(48655),t=function(){var a,b,c=(0,g.useState)([]),h=c[0],u=c[1],d=(0,g.useState)(!0),i=d[0],v=d[1];(0,g.useEffect)(function(){v(!0),r.x.project.getAll().then(function(a){u(a.data),v(!1)}).catch(function(a){console.error(a),v(!1)})},[]);var j=(0,q.oR)().userStore,w=(0,p.ez)().event,e=null===(a=j.master)|| void 0===a?void 0:null===(b=a.socialIds)|| void 0===b?void 0:b.github,t=(0,g.useCallback)(function(){w({action:o.b.Click,label:"\u9879\u76EE\u9875 GitHub \u56FE\u6807\u70B9\u51FB"})},[]);return(0,f.jsxs)("main",{children:[(0,f.jsx)(s.H,{title:"\u9879\u76EE"}),i?(0,f.jsx)(m.g,{}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"font-medium text-3xl my-12 inline-flex items-center",children:["\u9879\u76EE"," ",e&&(0,f.jsx)("a",{href:"https://github.com/".concat(e),className:"!text-inherit inline-flex ml-2",target:"_blank","aria-label":"view on GitHub",onClick:t,children:(0,f.jsx)(l.Vf,{})})]}),(0,f.jsx)(n._,{children:(0,f.jsx)(k,{projects:h})})]})]})}},91384:function(c,a,b){"use strict";b.d(a,{Kk:function(){return d},ZT:function(){return f},nd:function(){return e}});var d=function(a,b){return b.replace(/\/$/,"").concat(a||"")},e=function(a){return a.toString().replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&#34;")},f=new Proxy({},{get:function(a,b,c){return f},apply:function(){return Reflect.apply(f,this,arguments)}})},92087:function(a){a.exports={root:"list_root__yE_RT"}},90148:function(a){a.exports={"placeholder-image":"Image_placeholder-image__CL0os",hide:"Image_hide__M6yqQ","image-hide":"Image_image-hide__sxvqC","lazyload-image":"Image_lazyload-image__XLjJg",blur:"Image_blur__Vc5rh","blur-dark":"Image_blur-dark__OmBDG","img-alt":"Image_img-alt__R49ae"}},63641:function(a){a.exports={loading:"Loading_loading__7nOdi"}}},function(a){a.O(0,[621,674,833,774,888,179],function(){return a(a.s=18317)}),_N_E=a.O()}])