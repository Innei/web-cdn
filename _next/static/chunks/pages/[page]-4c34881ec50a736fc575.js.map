{"version":3,"sources":["webpack://_N_E/./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?068a","webpack://_N_E/./pages/[page]/index.tsx"],"names":["window","__NEXT_P","push","Page","props","data","title","subtitle","text","appStore","useStore","useEffect","headerNav","meta","show","scrollTo","top","left","behavior","description","RemoveMarkdown","slice","replace","Provider","value","images","escapeHtml","showTOC","type","id","_id","allowComment","getInitialProps","ctx","a","Rest","get","query","page","observer"],"mappings":"8IACKA,OAAOC,SAAWD,OAAOC,UAAY,IAAIC,KAAK,CAC7C,UACA,WACE,OAAO,EAAQ,Y,4OCSjBC,EAA8B,SAACC,GAAU,MACrCC,EAASD,EAATC,KACAC,EAA0BD,EAA1BC,MAAOC,EAAmBF,EAAnBE,SAAUC,EAASH,EAATG,KACjBC,EAAaC,cAAbD,SAmBR,OAjBAE,qBAAU,WAMR,OALAF,EAASG,UAAY,CACnBN,QACAO,KAAMN,EACNO,MAAM,GAED,WACLL,EAASG,UAAUE,MAAO,KAE3B,CAACL,EAAUF,EAAUD,IACxBK,qBAAU,WACRX,OAAOe,SAAS,CACdC,IAAK,EACLC,KAAM,EACNC,SAAU,aAEX,CAACd,IAEF,EAAC,IAAD,CAAeE,MAAOA,EAAOC,SAAUA,GACrC,EAAC,IAAD,CACED,MAAOA,EACPa,YAAaC,IAAeZ,GAAMa,MAAM,EAAG,KAAKC,QAAQ,KAAM,MAEhE,EAAC,IAAkBC,SAAnB,CAA4BC,MAAOpB,EAAMC,KAAKoB,QAC5C,EAAC,IAAD,CAAUD,MAAOhB,EAAMkB,YAAY,EAAOC,SAAO,KAGnD,EAAC,IACK,CACFC,KAAM,OACNC,GAAIzB,EAAMC,KAAKyB,IACfC,aAAY,UAAE3B,EAAMC,KAAK0B,oBAAb,aAMtB5B,EAAK6B,gBAAL,uCAAuB,WAAOC,GAAP,iBAAAC,EAAA,sEACEC,YAAK,OAAQ,QAAQC,IAC1CH,EAAII,MAAMC,MAFS,uBACbjC,EADa,EACbA,KADa,kBAKd,CAAEA,SALY,2CAAvB,sDAQekC,sBAASpC,K","file":"static/chunks/pages/[page]-4c34881ec50a736fc575.js","sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/[page]\",\n      function () {\n        return require(\"private-next-pages/[page]/index.tsx\");\n      }\n    ]);\n  ","import { useStore } from 'common/store'\nimport { CommentLazy } from 'components/Comment'\nimport Markdown from 'components/MD-render'\nimport { ArticleLayout } from 'layouts/ArticleLayout'\nimport { observer } from 'mobx-react'\nimport { PageRespDto } from 'models/page'\nimport { NextPage } from 'next'\nimport { useEffect } from 'react'\nimport RemoveMarkdown from 'remove-markdown'\nimport { Rest } from 'utils/api'\nimport { ImageSizesContext } from '../../common/context/ImageSizes'\nimport { Seo } from '../../components/SEO'\n\nconst Page: NextPage<PageRespDto> = (props) => {\n  const { data } = props\n  const { title, subtitle, text } = data\n  const { appStore } = useStore()\n\n  useEffect(() => {\n    appStore.headerNav = {\n      title,\n      meta: subtitle,\n      show: true,\n    }\n    return () => {\n      appStore.headerNav.show = false\n    }\n  }, [appStore, subtitle, title])\n  useEffect(() => {\n    window.scrollTo({\n      top: 0,\n      left: 0,\n      behavior: 'smooth',\n    })\n  }, [props])\n  return (\n    <ArticleLayout title={title} subtitle={subtitle}>\n      <Seo\n        title={title}\n        description={RemoveMarkdown(text).slice(0, 100).replace('\\n', '')}\n      />\n      <ImageSizesContext.Provider value={props.data.images}>\n        <Markdown value={text} escapeHtml={false} showTOC />\n      </ImageSizesContext.Provider>\n\n      <CommentLazy\n        {...{\n          type: 'Page',\n          id: props.data._id,\n          allowComment: props.data.allowComment ?? true,\n        }}\n      />\n    </ArticleLayout>\n  )\n}\nPage.getInitialProps = async (ctx) => {\n  const { data } = await Rest('Page', 'slug').get<PageRespDto>(\n    ctx.query.page as string,\n  )\n\n  return { data } as PageRespDto\n}\n\nexport default observer(Page)\n"],"sourceRoot":""}