{"version":3,"sources":["webpack://_N_E/./pages/notes/index.tsx","webpack://_N_E/./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?8cf7"],"names":["NotePage","observer","router","useRouter","appStore","useStore","useEffect","info","noteNid","replace","shallow","Rest","get","then","data","push","nid","window","__NEXT_P"],"mappings":"+QA4BMA,EAAWC,YAAS,KACxB,IAAMC,EAASC,uBACT,SAAEC,GAAaC,cAmBrB,OAlBAC,oBAAU,KACR,IAAQC,KAAK,kEACTH,EAASI,QACXN,EAAOO,QAAQ,cAAf,iBAAwCL,EAASI,SAAW,CAC1DE,SAAS,IAGXC,YAAK,QACFC,IAAI,UACJC,KAAM,IAAkB,IAAlB,KAAEC,GAAgB,EACvBZ,EAAOa,KAAK,cAAZ,iBAAqCD,EAAKE,KAAO,CAC/CN,SAAS,OAMhB,IACI,iBAEMV,a,sBClDViB,OAAOC,SAAWD,OAAOC,UAAY,IAAIH,KAAK,CAC7C,SACA,WACE,OAAO,EAAQ,a","file":"static/chunks/pages/notes-ae5c6c2aafac14c062fc.module.js","sourcesContent":["import { message } from 'antd'\nimport { observer } from 'mobx-react'\nimport { useRouter } from 'next/router'\nimport { useEffect } from 'react'\nimport { useStore } from '../../common/store'\nimport { Rest } from '../../utils/api'\n\n// const NotePage: NextPage<{\n//   data: NoteModel\n//   next: {\n//     _id: string\n//     nid: number\n//     id: string\n//   }\n// }> = (props) => {\n//   const router = useRouter()\n//   useEffect(() => {\n//     router.push('/notes/[id]', `/notes/${props.data.nid}`, { shallow: true })\n//   }, [props.data.nid, router])\n\n//   return <main></main>\n// }\n\n// NotePage.getInitialProps = async (ctx) => {\n//   const { data, next } = (await Rest('Note').get('latest')) as NoteLastestResp\n\n//   return { data, next }\n// }\nconst NotePage = observer(() => {\n  const router = useRouter()\n  const { appStore } = useStore()\n  useEffect(() => {\n    message.info('正在跳往至最新, 请等待')\n    if (appStore.noteNid) {\n      router.replace('/notes/[id]', `/notes/${appStore.noteNid}`, {\n        shallow: true,\n      })\n    } else {\n      Rest('Note')\n        .get('latest')\n        .then(({ data }: any) => {\n          router.push('/notes/[id]', `/notes/${data.nid}`, {\n            shallow: true,\n          })\n        })\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n  return <main></main>\n})\nexport default NotePage\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/notes\",\n      function () {\n        return require(\"private-next-pages/notes/index.tsx\");\n      }\n    ]);\n  "],"sourceRoot":""}