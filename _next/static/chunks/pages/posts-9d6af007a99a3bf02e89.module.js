(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[37],{"+Qka":function(e,t,r){var a=r("fmRc"),n=r("t2Dn"),o=r("cq/+"),c=r("T1AV"),i=r("GoyQ"),s=r("mTTR"),l=r("itsj");e.exports=function e(t,r,u,f,p){t!==r&&o(r,(function(o,s){if(p||(p=new a),i(o))c(t,r,s,u,e,f,p);else{var d=f?f(l(t,s),o,s+"",t,r,p):void 0;void 0===d&&(d=o),n(t,s,d)}}),s)}},"/Zut":function(e,t,r){(function(e){!function(r,a){var n=function(){var e=null,t={};c("monochrome",null,[[0,0],[100,0]]),c("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),c("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),c("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),c("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),c("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),c("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),c("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]);var r=[],a=function(c){if(void 0!==(c=c||{}).seed&&null!==c.seed&&c.seed===parseInt(c.seed,10))e=c.seed;else if("string"===typeof c.seed)e=function(e){for(var t=0,r=0;r!==e.length&&!(t>=Number.MAX_SAFE_INTEGER);r++)t+=e.charCodeAt(r);return t}(c.seed);else{if(void 0!==c.seed&&null!==c.seed)throw new TypeError("The seed value must be an integer or string");e=null}var u,f;if(null!==c.count&&void 0!==c.count){for(var p=c.count,d=[],v=0;v<c.count;v++)r.push(!1);for(c.count=null;p>d.length;){var h=a(c);null!==e&&(c.seed=e),d.push(h)}return c.count=p,d}return function(e,t){switch(t.format){case"hsvArray":return e;case"hslArray":return l(e);case"hsl":var r=l(e);return"hsl("+r[0]+", "+r[1]+"%, "+r[2]+"%)";case"hsla":var a=l(e),n=t.alpha||Math.random();return"hsla("+a[0]+", "+a[1]+"%, "+a[2]+"%, "+n+")";case"rgbArray":return i(e);case"rgb":return"rgb("+i(e).join(", ")+")";case"rgba":var o=i(e);n=t.alpha||Math.random();return"rgba("+o.join(", ")+", "+n+")";default:return function(e){var t=i(e);function r(e){var t=e.toString(16);return 1==t.length?"0"+t:t}return"#"+r(t[0])+r(t[1])+r(t[2])}(e)}}([u=function(e){if(r.length>0){var a=o(f=function(e){if(isNaN(e)){if("string"===typeof e)if(t[e]){var r=t[e];if(r.hueRange)return r.hueRange}else if(e.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){return n(s(e)[0]).hueRange}}else{var a=parseInt(e);if(a<360&&a>0)return n(e).hueRange}return[0,360]}(e.hue)),c=(f[1]-f[0])/r.length,i=parseInt((a-f[0])/c);!0===r[i]?i=(i+2)%r.length:r[i]=!0;var l=(f[0]+i*c)%359,u=(f[0]+(i+1)*c)%359;return(a=o(f=[l,u]))<0&&(a=360+a),a}var f=function(e){if("number"===typeof parseInt(e)){var r=parseInt(e);if(r<360&&r>0)return[r,r]}if("string"===typeof e)if(t[e]){var a=t[e];if(a.hueRange)return a.hueRange}else if(e.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var n=s(e)[0];return[n,n]}return[0,360]}(e.hue);return(a=o(f))<0&&(a=360+a),a}(c),f=function(e,t){if("monochrome"===t.hue)return 0;if("random"===t.luminosity)return o([0,100]);var r=function(e){return n(e).saturationRange}(e),a=r[0],c=r[1];switch(t.luminosity){case"bright":a=55;break;case"dark":a=c-10;break;case"light":c=55}return o([a,c])}(u,c),function(e,t,r){var a=function(e,t){for(var r=n(e).lowerBounds,a=0;a<r.length-1;a++){var o=r[a][0],c=r[a][1],i=r[a+1][0],s=r[a+1][1];if(t>=o&&t<=i){var l=(s-c)/(i-o);return l*t+(c-l*o)}}return 0}(e,t),c=100;switch(r.luminosity){case"dark":c=a+20;break;case"light":a=(c+a)/2;break;case"random":a=0,c=100}return o([a,c])}(u,f,c)],c)};function n(e){for(var r in e>=334&&e<=360&&(e-=360),t){var a=t[r];if(a.hueRange&&e>=a.hueRange[0]&&e<=a.hueRange[1])return t[r]}return"Color not found"}function o(t){if(null===e){var r=Math.random();return r+=.618033988749895,r%=1,Math.floor(t[0]+r*(t[1]+1-t[0]))}var a=t[1]||1,n=t[0]||0,o=(e=(9301*e+49297)%233280)/233280;return Math.floor(n+o*(a-n))}function c(e,r,a){var n=a[0][0],o=a[a.length-1][0],c=a[a.length-1][1],i=a[0][1];t[e]={hueRange:r,lowerBounds:a,saturationRange:[n,o],brightnessRange:[c,i]}}function i(e){var t=e[0];0===t&&(t=1),360===t&&(t=359),t/=360;var r=e[1]/100,a=e[2]/100,n=Math.floor(6*t),o=6*t-n,c=a*(1-r),i=a*(1-o*r),s=a*(1-(1-o)*r),l=256,u=256,f=256;switch(n){case 0:l=a,u=s,f=c;break;case 1:l=i,u=a,f=c;break;case 2:l=c,u=a,f=s;break;case 3:l=c,u=i,f=a;break;case 4:l=s,u=c,f=a;break;case 5:l=a,u=c,f=i}return[Math.floor(255*l),Math.floor(255*u),Math.floor(255*f)]}function s(e){e=3===(e=e.replace(/^#/,"")).length?e.replace(/(.)/g,"$1$1"):e;var t=parseInt(e.substr(0,2),16)/255,r=parseInt(e.substr(2,2),16)/255,a=parseInt(e.substr(4,2),16)/255,n=Math.max(t,r,a),o=n-Math.min(t,r,a),c=n?o/n:0;switch(n){case t:return[(r-a)/o%6*60||0,c,n];case r:return[60*((a-t)/o+2)||0,c,n];case a:return[60*((t-r)/o+4)||0,c,n]}}function l(e){var t=e[0],r=e[1]/100,a=e[2]/100,n=(2-r)*a;return[t,Math.round(r*a/(n<1?n:2-n)*1e4)/100,n/2*100]}return a}();e&&e.exports&&(t=e.exports=n),t.randomColor=n}()}).call(this,r("YuTi")(e))},16:function(e,t,r){r("j36g"),e.exports=r("Zttu")},"3L66":function(e,t,r){var a=r("MMmD"),n=r("ExA7");e.exports=function(e){return n(e)&&a(e)}},AauJ:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var a=r("wx14"),n=r("Ff2n"),o=r("q1tI"),c=r.n(o),i=r("0Xwh"),s=r("2x5v"),l=r("dumg"),u=r("cBaE"),f=c.a.createElement,p=Object(o.memo)(Object(o.forwardRef)((e,t)=>{var{children:r,title:o,subtitle:c,delay:p}=e,d=Object(n.a)(e,["children","title","subtitle","delay"]);return f("main",Object(a.a)({className:"is-article",ref:t},d,{id:"article-wrap"}),o&&f("section",{className:"post-title"},f("h1",null,f(i.a,{type:"alpha",leaveReverse:!0,appear:!1},Object(u.f)()?f(s.a,{type:"mask-bottom",mode:"smooth",key:o},o):o)),c&&f("h2",null,f(i.a,{type:"alpha"},Object(u.f)()?f(s.a,{type:"mask-bottom",mode:"smooth",delay:500,key:c},c):c))),f(i.a,{delay:null!==p&&void 0!==p?p:300,duration:500,animConfig:{opacity:[1,0],translateY:[0,50]},animatingClassName:l.b},f("article",{className:"post-content paul-note",key:o},r)))}))},EA7m:function(e,t,r){var a=r("zZ0H"),n=r("Ioao"),o=r("wclG");e.exports=function(e,t){return o(n(e,t,a),e+"")}},Gbxs:function(e,t,r){e.exports={head:"PostBlock_head__38-FT",title:"PostBlock_title__18Obo",text:"PostBlock_text__Gsfei",btn:"PostBlock_btn__2551h","gradual-change":"PostBlock_gradual-change__20O60",navigator:"PostBlock_navigator__25BE6"}},Itla:function(e,t,r){e.exports={tag:"Tag_tag__1e831"}},LsHQ:function(e,t,r){var a=r("EA7m"),n=r("mv/X");e.exports=function(e){return a((function(t,r){var a=-1,o=r.length,c=o>1?r[o-1]:void 0,i=o>2?r[2]:void 0;for(c=e.length>3&&"function"==typeof c?(o--,c):void 0,i&&n(r[0],r[1],i)&&(c=o<3?void 0:c,o=1),t=Object(t);++a<o;){var s=r[a];s&&e(t,s,a,c)}return t}))}},MaJT:function(e,t,r){"use strict";r.d(t,"a",(function(){return g})),r.d(t,"b",(function(){return m}));var a=r("rePB"),n=r("Ff2n"),o=r("q1tI"),c=r.n(o),i=r("QkVN"),s=r.n(i),l=r("TyAF"),u=r("9ixD"),f=r("zQ19"),p=r("F/y2"),d=r("z1bh"),v=c.a.createElement;function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}var g=Object(l.c)(e=>{var{title:t,description:r,openGraph:o}=e,c=Object(n.a)(e,["title","description","openGraph"]),{userStore:i,appStore:l}=Object(f.d)(),g=t+" - "+(p.a.title||l.title);return v(u.b,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({title:t,titleTemplate:"%s - "+(p.a.title||l.title),openGraph:s()({type:"article",locale:"zh-cn",site_name:p.a.title||l.title,description:r||p.a.description||l.description||i.introduce,article:{authors:[i.name||p.a.author,"mx-space"]},title:g,images:[{url:Object(d.d)().pop(),alt:t+" - "+(p.a.title||l.title)}]},o),description:r||p.a.description||l.description||i.introduce,twitter:{cardType:"summary_large_image",site:p.a.url}},c))}),m=g},PJ1c:function(e,t,r){"use strict";var a=r("0Xwh");r.d(t,"a",(function(){return a.a}));r("2x5v")},QkVN:function(e,t,r){var a=r("+Qka"),n=r("LsHQ")((function(e,t,r){a(e,t,r)}));e.exports=n},T1AV:function(e,t,r){var a=r("t2Dn"),n=r("5Tg0"),o=r("yP5f"),c=r("Q1l4"),i=r("+iFO"),s=r("03A+"),l=r("Z0cm"),u=r("3L66"),f=r("DSRE"),p=r("lSCD"),d=r("GoyQ"),v=r("YO3V"),h=r("c6wG"),g=r("itsj"),m=r("jeLo");e.exports=function(e,t,r,b,y,w,O){var j=g(e,r),k=g(t,r),_=O.get(k);if(_)a(e,r,_);else{var x=w?w(j,k,r+"",e,t,O):void 0,E=void 0===x;if(E){var N=l(k),P=!N&&f(k),M=!N&&!P&&h(k);x=k,N||P||M?l(j)?x=j:u(j)?x=c(j):P?(E=!1,x=n(k,!0)):M?(E=!1,x=o(k,!0)):x=[]:v(k)||s(k)?(x=j,s(j)?x=m(j):d(j)&&!p(j)||(x=i(k))):E=!1}E&&(O.set(k,x),y(x,k,b,w,O),O.delete(k)),a(e,r,x)}}},XCPh:function(e,t,r){"use strict";r.r(t);var a,n=r("wHSu"),o=r("IP2g"),c=r("zQ19"),i=r("PJ1c"),s=r("wx14"),l=r("Ff2n"),u=r("q1tI"),f=r.n(u),p=r("i8i4"),d=r.n(p),v=r("cBaE"),h=r("wekS"),g=r.n(h),m=f.a.createElement,b=e=>{var{children:t,onClose:r}=e;return Object(u.useEffect)(()=>(document.documentElement.style.overflow="hidden",()=>{document.documentElement.style.overflow=""}),[]),m("div",{className:g.a.container},m(i.a,{type:"alpha"},m("div",{className:g.a.overlay,onClick:r,key:"overlay"})),t)},y=e=>{var{show:t}=e,r=Object(l.a)(e,["show"]);return Object(v.g)()?null:d.a.createPortal(m(i.a,{type:"alpha",leaveReverse:!0,duration:500,forcedReplay:!0},t?m(b,Object(s.a)({},r,{key:"real"})):null),document.body)},w=r("TSYQ"),O=r.n(w),j=r("TyAF"),k=r("nOHt"),_=r.n(k),x=r("tcEi"),E=r.n(x),N=r("eSIs"),P=r("Gbxs"),M=r.n(P),C=f.a.createElement,R=Object(j.b)(e=>({viewport:e.appStore.viewport,map:e.categoryStore.CategoryMap}))(a=Object(j.c)(a=class extends f.a.PureComponent{render(){var{date:e,title:t,text:r,slug:a,viewport:n,raw:o}=this.props,c=(null===n||void 0===n?void 0:n.mobile)?Object(N.a)(e,"MM-DD ddd"):Object(N.a)(e,"YYYY-MM-DD ddd"),[i,s]=c.split(" "),l=()=>{var e,t=null===(e=this.props.map)||void 0===e?void 0:e.get(o.categoryId);_.a.push("/posts/[category]/[slug]","/posts/".concat(t,"/").concat(a)),window.scrollTo({left:0,top:0,behavior:"smooth"})};return C(f.a.Fragment,null,C("h1",{className:M.a.head},i,C("small",null,"\uff08",s,"\uff09"),!(null===n||void 0===n?void 0:n.mobile)&&C("div",{className:M.a.title,onClick:l},t)),C("div",{className:O()("note-item",M.a.text)},(null===n||void 0===n?void 0:n.mobile)&&C("h2",{className:M.a.title,onClick:l},t),C("article",{className:"note-content"},E()(r).slice(0,250)+".."),C("section",{className:M.a.navigator},C("button",{className:M.a.btn,onClick:l},"\u67e5\u770b\u539f\u6587"))))}})||a)||a,T=r("Itla"),A=r.n(T),S=r("/Zut"),I=r.n(S),D=f.a.createElement,F=Object(j.c)(e=>{var{tagName:t,onClick:r}=e,{appStore:a}=Object(c.d)(),i=Object(u.useMemo)(()=>I()({format:"hex",luminosity:"dark"==a.colorMode?"dark":"light"}),[a.colorMode]);return D("a",{className:A.a.tag,style:{background:i},onClick:r},D(o.a,{icon:n.D,style:{marginRight:"0.8rem"}}),t)}),Y=r("AauJ"),B=r("YFqc"),q=r.n(B),G=r("AoAR"),Q=r("MaJT"),J=f.a.createElement,H=Object(j.c)(e=>{var{page:t,posts:r}=e,a=Object(c.d)(),{appStore:s,actionStore:l,categoryStore:f}=a,{0:p,1:d}=Object(u.useState)(!1),h=Object(k.useRouter)(),{query:{page:g}}=h;Object(u.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[g]),Object(u.useEffect)(()=>{f.fetchCategory()},[f]);var{0:m,1:b}=Object(u.useState)([]),w=Object(u.useCallback)(async()=>{var{data:e}=await Object(G.a)("Category").get(void 0,{params:{type:"Tag"}});b(e)},[]),O=Object(u.useMemo)(()=>new v.b,[]);Object(u.useEffect)(()=>{l.removeActionByUUID(O);var e={icon:J(o.a,{icon:n.E}),id:O,onClick:()=>{0==m.length&&w(),d(!0)}};return l.appendActions(e),()=>{l.removeActionByUUID(O)}},[l,O,w,m.length]);var{0:j,1:_}=Object(u.useState)([]),x=Object(u.useCallback)(async e=>{_(null);var{data:t}=await Object(G.a)("Category").get(e,{params:{tag:"true"}});_(t)},[]);return J(Y.a,null,J(y,{show:p,onClose:()=>{d(!1),_([])}},J("div",{style:{maxWidth:"50vw"}},J(i.a,{type:"scale"},m.map(e=>{var{_id:t,name:r}=e;return J(F,{tagName:r,key:t,onClick:()=>{x(r)}})})),J("div",{className:"tags-posts"},J("article",{className:"post-content paul-note article-list"},J("ul",null,J(i.a,{delay:700,forcedReplay:!0,appear:!0},j?j.map(e=>{var t=new Date(e.created);return J("li",{key:e._id},J(q.a,{href:"/posts/[category]/[slug]",as:"/posts/".concat(e.category.slug,"/").concat(e.slug)},J("a",null,e.title)),J("span",{className:"meta"},(t.getMonth()+1).toString().padStart(2,"0"),"/",t.getDate().toString().padStart(2,"0"),"/",t.getFullYear()))}):J("span",null,"\u8f7d\u5165\u4e2d."))))))),J(Q.a,{title:"\u535a\u6587"}),J("article",{className:"paul-note"},r.map(e=>{var{slug:t,text:r,created:a,title:n,_id:o}=e;return J(R,{title:n,date:a,key:o,text:r,slug:t,raw:e})})),J("section",{className:"paul-more"},t.hasPrevPage&&J("button",{className:"btn brown",onClick:()=>{h.push("/posts?page="+(t.currentPage-1))}},"\u4e0a\u4e00\u9875"),t.hasNextPage&&J("button",{className:"btn brown",style:t.hasNextPage&&t.hasPrevPage?{marginLeft:"6px"}:void 0,onClick:()=>{h.push("/posts?page="+(t.currentPage+1))}},"\u4e0b\u4e00\u9875")))});H.getInitialProps=async e=>{var{page:t,year:r}=e.query,a=await Object(G.a)("Post","").gets({page:t||1,year:parseInt(r)||void 0});return{page:a.page,posts:a.data}};t.default=H},YFqc:function(e,t,r){e.exports=r("cTJO")},Zttu:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/posts",function(){return r("XCPh")}])},cTJO:function(e,t,r){"use strict";var a=r("7KCV");t.__esModule=!0,t.default=void 0;var n,o=a(r("q1tI")),c=r("g/15"),i=r("nOHt"),s=r("elyg");var l=new Map,u=window.IntersectionObserver,f={};var p=(e,t)=>{var r=n||(u?n=new u(e=>{e.forEach(e=>{if(l.has(e.target)){var t=l.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(n.unobserve(e.target),l.delete(e.target),t())}})},{rootMargin:"200px"}):void 0);return r?(r.observe(e),l.set(e,t),()=>{try{r.unobserve(e)}catch(t){console.error(t)}l.delete(e)}):()=>{}};function d(e,t,r,a){e.prefetch(t,r,a).catch(e=>{0}),f[t+"%"+r]=!0}function v(e,t,r,a,n,o,i){var{nodeName:s,target:l}=e.currentTarget;"A"===s&&(l&&"_self"!==l||e.metaKey||e.ctrlKey||e.shiftKey||e.nativeEvent&&2===e.nativeEvent.which)||function(e){var t=(0,c.getLocationOrigin)();return new URL(e,t).origin===t}(r)&&(e.preventDefault(),null==i&&(i=a.indexOf("#")<0),t[n?"replace":"push"](r,a,{shallow:o}).then(e=>{e&&i&&(window.scrollTo(0,0),document.body.focus())}))}var h=function(e){var t=!1!==e.prefetch,[r,a]=o.default.useState(),n=(0,i.useRouter)(),c=n&&n.pathname||"/",{href:l,as:h}=o.default.useMemo(()=>{var t=(0,s.resolveHref)(c,e.href);return{href:t,as:e.as?(0,s.resolveHref)(c,e.as):t}},[c,e.href,e.as]);o.default.useEffect(()=>{if(t&&u&&r&&r.tagName&&!f[l+"%"+h])return p(r,()=>{d(n,l,h)})},[t,r,l,h,n]);var{children:g,replace:m,shallow:b,scroll:y}=e;"string"===typeof g&&(g=o.default.createElement("a",null,g));var w=o.Children.only(g),O={ref:e=>{e&&a(e),w&&"object"===typeof w&&w.ref&&("function"===typeof w.ref?w.ref(e):"object"===typeof w.ref&&(w.ref.current=e))},onClick:e=>{w.props&&"function"===typeof w.props.onClick&&w.props.onClick(e),e.defaultPrevented||v(e,n,l,h,m,b,y)}};return t&&(O.onMouseEnter=e=>{w.props&&"function"===typeof w.props.onMouseEnter&&w.props.onMouseEnter(e),d(n,l,h,{priority:!0})}),!e.passHref&&("a"!==w.type||"href"in w.props)||(O.href=(0,s.addBasePath)(h)),o.default.cloneElement(w,O)};t.default=h},"cq/+":function(e,t,r){var a=r("mc0g")();e.exports=a},dumg:function(e,t,r){"use strict";r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return u}));var a=r("q1tI"),n=r.n(a),o=r("Wgwc"),c=r.n(o),i=r("PJ1c"),s=n.a.createElement,l=["","absolute padding-b100"],u=Object(a.memo)(Object(a.forwardRef)((e,t)=>{var{children:r,date:a,title:n,tips:o}=e,u=c()(a).locale("en").format("YYYY-MM-DD ddd");return s("main",{className:"is-article is-note post-content paul-note",ref:t},s(i.a,{type:["bottom","alpha"],delay:500,forcedReplay:!0,animatingClassName:l},s("article",{key:u},s("h1",null,u),s("h2",{title:o,style:{textAlign:"center"}},n),r)))}))},itsj:function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}},jeLo:function(e,t,r){var a=r("juv8"),n=r("mTTR");e.exports=function(e){return a(e,n(e))}},mc0g:function(e,t){e.exports=function(e){return function(t,r,a){for(var n=-1,o=Object(t),c=a(t),i=c.length;i--;){var s=c[e?i:++n];if(!1===r(o[s],s,o))break}return t}}},t2Dn:function(e,t,r){var a=r("hypo"),n=r("ljhN");e.exports=function(e,t,r){(void 0===r||n(e[t],r))&&(void 0!==r||t in e)||a(e,t,r)}},wekS:function(e,t,r){e.exports={container:"Overlay_container__1owmA",overlay:"Overlay_overlay__2YOqK","blur-in":"Overlay_blur-in__GT5ea"}}},[[16,1,0,7,4,3,2,5,6,8,10,11,9,13,12,14]]]);
//# sourceMappingURL=posts-9d6af007a99a3bf02e89.module.js.map